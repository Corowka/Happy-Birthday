<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/png" href="/img/favicon.png" />
  <link rel="stylesheet" href="./css/reset.css">
  <link rel="stylesheet" href="./css/style.css">
  <script src="./js/confetti.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üéäHappy Birthday Nikitaüéâ</title>
  <script src="./messages.js"></script>
</head>

<body>

  <canvas width="1920" height="1080" id="confetti-canvas"
    style="display:block;z-index:999999;pointer-events:none"></canvas>

  <button id="toggle">–í–∫–ª</button>

  <script>
    const toggleButton = document.getElementById("toggle");
    toggleButton.addEventListener("click", () => {
      toggleConfetti();
      toggleButton.innerText = isRunning() ? "–í—ã–∫–ª" : "–í–∫–ª";
    });
  </script>

  <section class="introdaction">
    <div class="wrapper">
      <img src="./img/Nilita.jpg" alt="">
      <div class="text_container">
        <h1 class="title">–° –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω—å—è,<br> –î–æ—Ä–æ–≥–æ–π –ù–∏–∫–∏—Ç–∞</h1>
        <div class="line"></div>
        <div class="line_vertical"></div>
        <p class="text">
          –î–æ–ª–≥–æ –¥—É–º–∞–ª–∏, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –¥–ª—è —Ç–µ–±—è –æ—Å–æ–±–µ–Ω–Ω—ã–º. –ò, –Ω–∞–∫–æ–Ω–µ—Ü, –º—ã —Ä–µ—à–∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å —Ç–æ, –≤ —á—ë–º –º—ã —Ö–æ—Ä–æ—à–∏.
          –≠—Ç–æ—Ç —Å–∞–π—Ç ‚Äì –Ω–∞—à–µ —Ç–≤–æ—Ä–µ–Ω–∏–µ, –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ –ª—é–±–æ–≤—å—é –∏ –≤–Ω–∏–º–∞–Ω–∏–µ–º —Ç–≤–æ–∏—Ö –±–ª–∏–∑–∫–∏—Ö –∏ –¥—Ä—É–∑–µ–π.
          –ú—ã —Ö–æ—Ç–µ–ª–∏ –≤—Å–ø–æ–º–Ω–∏—Ç—å –≤–º–µ—Å—Ç–µ –≤–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏–∑ —Ç–≤–æ–µ–π –∂–∏–∑–Ω–∏ –∏ –ø–æ–¥–∞—Ä–∏—Ç—å —Ç–µ–±–µ –Ω–µ—á—Ç–æ –ø—Ä–æ—Å—Ç–æ–µ, –Ω–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ–µ ‚Äì
          —ç–º–æ—Ü–∏–∏. –í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–∏ –Ω–µ —Ç–æ–ª—å–∫–æ –º—ã, –ñ–µ–Ω—è, –ú–∞–∫—Å–æ–Ω –∏ –°–∞–±–∏–Ω–∞,
          –Ω–æ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ö–æ—Ç–µ–ª–∏ –≤–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –≤–∫–ª–∞–¥ –∏ –Ω–∞–ø–∏—Å–∞–ª–∏ —Ç–µ–±–µ —Ç–µ–ø–ª—ã–µ —Å–ª–æ–≤–∞, –∏—Ö –∏–º–µ–Ω–∞ —Ç—ã –Ω–∞–π–¥—ë—à—å
          –Ω–∏–∂–µ. –í—Å–µ –æ–Ω–∏ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å —Å —Ç–æ–±–æ–π –≤ —ç—Ç–æ—Ç –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–π –¥–µ–Ω—å, —á—Ç–æ–±—ã –æ–Ω –∑–∞–ø–æ–º–Ω–∏–ª—Å—è —Ç–µ–±–µ –Ω–∞–¥–æ–ª–≥–æ.
        </p>
        <button id="congratulation">–ü—Ä–∞–∑–¥–Ω–æ–≤–∞—Ç—å, —é—Ö—É üéäüéâ</button>
      </div>
    </div>
  </section>

  <script>
    const congratulationButton = document.getElementById("congratulation");
    congratulationButton.addEventListener("click", () => {
      startConfetti();
      document.getElementById("toggle").innerText = isRunning() ? "–í—ã–∫–ª" : "On";
      window.scrollTo({ top: window.innerHeight, behavior: "smooth" });
    });
  </script>


  <section class="tree">
    <div class="title">
      <div class="wrapper">–Ø—Ä–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã</div>
    </div>
    <div class="content">
      <img class="tree_image" src="./img/tree.png">
      <div class="tree_container">
        <div class="item">
          <div class="text">
            <h2>–°–¢–£–î–ï–ù–ß–ï–°–ö–ê–Ø –ñ–ò–ó–ù–¨</h2>
            <div></div>
            <p>
              –†–µ—à–∏–≤—à–∏—Å—å –Ω–∞—á–∞—Ç—å —Ç–æ, –≥–¥–µ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ, –º–æ–≥ –±—ã—Ç—å –Ω–µ —Ç–∞–∫ —É–≤–µ—Ä–µ–Ω —Ç—ã –ø–æ–ø–∞–ª –≤ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–π –º–∏—Ä —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞,
              –≤–∑—Ä–æ—Å–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–Ω–∞–∫–æ–º—Å—Ç–≤, —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ —Å–æ–±–æ–π, —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å–ø—ã—Ç–∞–Ω–∏–π. –ò —ç—Ç–æ —Ç–æ, —á—Ç–æ —Ç—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–±—É–¥–µ—à—å,
              –≤–µ–¥—å —ç—Ç–æ—Ç —ç—Ç–∞–ø –≤ –∂–∏–∑–Ω–∏, –Ω–µ –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –∫–ª—é—á–µ–≤—ã–º.
            </p>
          </div>
        </div>
        <div class="item left">
          <div class="text">
            <h2>–®–ö–û–õ–¨–ù–´–ï –ì–û–î–´</h2>
            <div></div>
            <p>
              –ú–µ—Å—Ç–æ –≥–¥–µ-—Ç–æ —Ç—ã —Ä–æ—Å, –¥–µ–ª–∞–ª –æ—à–∏–±–∫–∏, —É–∑–Ω–∞–≤–∞–ª —Å–≤–æ–∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã, –≤—Å—Ç—Ä–µ—á–∞–ª —Å—É–¥—å–±–∞–Ω–æ—Å–Ω—ã—Ö –ª—é–¥–µ–π.
              –ú–µ—Å—Ç–æ –≥–¥–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã—Ç—å —Å–æ—Ä–≤–∞–Ω—Ü–æ–º, –º–µ—Å—Ç–æ –≥–¥–µ –≥–ª–∞–≤–Ω–æ–π –∑–∞–±–æ—Ç–æ–π –±—ã–ª–∞ –Ω–µ—Å–¥–µ–ª–∞–Ω–Ω–∞—è –¥–æ–º–∞—à–Ω—è—è —Ä–∞–±–æ—Ç–∞.
              –ë—ã–ª–∏ —Å–≤–æ–∏ —Å—á–∞—Å—Ç–ª–∏–≤—ã–µ –∏ –≥—Ä—É—Å—Ç–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–¥–µ–ª–∞–ª–∏ —Ç–µ–±—è —Ç–µ–º, –∫—Ç–æ —Ç—ã –µ—Å—Ç—å —Å–µ–π—á–∞—Å.
            </p>
          </div>
        </div>
        <div class="item">
          <div class="text">
            <h2>–ë–ï–ó–ó–ê–ë–û–¢–ù–´–ï –ì–û–î–´</h2>
            <div></div>
            <p>
              –¢–æ–≥–¥–∞ —Ç—ã –±—ã–ª —é–Ω, –∫–∞–∫ –≤—Å–µ–≥–¥–∞ –æ—á–∞—Ä–æ–≤–∞—Ç–µ–ª–µ–Ω –∏ –≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ —Ç–∞–∫ –ø–æ—Å–ª—É—à–µ–Ω –∫–∞–∫ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –º–∞–º–µ.
              –•–∏—Ç—Ä—ã–π –æ–∑–∞—Ä–Ω–∏–∫, –≤—ã–∂–Ω—ã–π –≥—É—Å—å ‚Äì –≤—Å—ë —ç—Ç–æ –ø—Ä–æ —Ç–µ–±—è. –ú–∞–ª–µ–Ω—å–∫–∏–π –ù–∏–∫–∏—Ç–∞, —á—Ç–æ –ø–æ–ª—É—á–∞–ª –ª—é–±–æ–≤—å —Ä–æ–¥–∏—Ç–µ–ª–µ–π
              –∏ —É—á–∏–ª—Å—è –ª—é–±–∏—Ç—å –¥—Ä—É–≥–∏—Ö, —á—Ç–æ–±—ã —Å–µ–π—á–∞—Å –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑ —Å–∞–º—ã—Ö —á—É–¥–µ—Å–Ω—ã—Ö –ª—é–¥–µ–π.
            </p>
          </div>
        </div>
      </div>
      <div class="images_container">
        <div class="image image_1"></div>
        <div class="image image_2"></div>
        <div class="image image_3"></div>
        <div class="image image_4"></div>
        <div class="image image_5"></div>
        <div class="image image_6"></div>
        <div class="image image_7"></div>
        <div class="image image_8"></div>
        <div class="image image_9"></div>
        <div class="image image_10"></div>
        <div class="image image_11"></div>
      </div>
    </div>
    </div>
    </div>
  </section>

  <section class="messages">
    <div class="title">
      <div class="wrapper">–†–µ–±—è—Ç–∞, —á—Ç–æ —Å–æ–±—Ä–∞–ª–∏—Å—å –∑–¥–µ—Å—å, —á—Ç–æ–±—ã —Ç–µ–±—è –ø–æ–∑–¥—Ä–∞–≤–∏—Ç—å</div>
    </div>
    <div class="messages_container">
    </div>
  </section>

  <script>
    const emoticons = ["üê∂", "üê±", "ü§£", "ü§ì", "ü•≥", "ü§ë", "üë∂", "üêß", "ü¶ù", "üôâ", "üòä", "üëΩ", "üë®‚Äçüé®", "üß∏", "üíª", "üìö", "ü§º‚Äç‚ôÇÔ∏è", "‚öΩÔ∏è", "üç∫", "üç≥", "üå∫", "üî•", "üåä", "ü¶Ä", "üê•", "üíÉ", "ü§™", "üòá", "üòÇ", "üòú", "üòé", "üê•", "ü¶ñ", "üêÆ", "üí´", "ü¶ö", "üêº"];

    function createMessageHTML(message) {
      const container = document.createElement('div');
      container.className = 'message';
      const iconContainer = document.createElement('div');
      iconContainer.className = 'icon_part';
      const icon = document.createElement('div');
      icon.className = 'icon';
      icon.innerHTML = emoticons[Math.round(Math.random() * (emoticons.length - 1))]
      console.log(icon.innerHTML)
      iconContainer.appendChild(icon);
      const textContainer = document.createElement('div');
      textContainer.className = 'text';
      const textParagraph = document.createElement('p');
      textParagraph.textContent = message.message;
      textContainer.appendChild(textParagraph);
      const nameContainer = document.createElement('div');
      nameContainer.className = 'name';
      const nameParagraph = document.createElement('p');
      nameParagraph.textContent = message.name;
      nameContainer.appendChild(nameParagraph);
      container.appendChild(iconContainer);
      container.appendChild(textContainer);
      container.appendChild(nameContainer);
      return container;
    }

    function appendMessagesToContainer(messages) {
      const container = document.querySelector('.messages_container');
      messages.forEach((message) => {
        const messageHTML = createMessageHTML(message);
        container.appendChild(messageHTML);
      });
    }

    appendMessagesToContainer(messages);
  </script>

  <section class="stats">
    <div class="title">
      <div class="wrapper">–í–∞–∂–Ω—ã–µ —Ñ–∞–∫—Ç—ã –æ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è—Ö</div>
    </div>
    <div class="wrapper">
      <div class="container">
        <div class="card">
          <p>C—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤</p>
          <div id="words" class="res"></div>
        </div>
        <div class="card">
          <p>C—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤</p>
          <div id="symbols" class="res"></div>
        </div>
        <div class="card">
          <p>–°–∞–º–æ–µ –ø–æ–ø—É–ª—è—Ä–Ω–æ–µ —Å–ª–æ–≤–æ</p>
          <div id="word" class="res"></div>
        </div>
      </div>
    </div>
  </section>

  <script>
    const wordsItem = document.getElementById("words");
    const symbolsItem = document.getElementById("symbols");
    const wordItem = document.getElementById("word");
    const averageWords = Math.round(messages.reduce((total, item) => total + item.message.split(" ").length, 0) / messages.length);
    wordsItem.innerHTML = averageWords;
    const averageSymbols = Math.round(messages.reduce((total, item) => total + item.message.length, 0) / messages.length);
    symbolsItem.innerHTML = averageSymbols;
    const wordFrequencyMap = new Map();
    for (let item of messages) {
      const words = item.message.split(" ");
      for (let word of words) {
        if (word.length < 6) {
          continue
        }
        const trimmedWord = word.trim();
        if (wordFrequencyMap.has(trimmedWord)) {
          wordFrequencyMap.set(trimmedWord, wordFrequencyMap.get(trimmedWord) + 1);
        } else {
          wordFrequencyMap.set(trimmedWord, 1);
        }
      }
    }
    let mostFrequentWord = "";
    let maxFrequency = 0;
    for (let [word, frequency] of wordFrequencyMap) {
      if (frequency > maxFrequency) {
        mostFrequentWord = word;
        maxFrequency = frequency;
      }
    }
    wordItem.innerHTML = mostFrequentWord;
  </script>

</body>

</html>